{"ast":null,"code":"var _jsxFileName = \"/Users/joshfeuerstein/jandle/src/AppContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AppContext = /*#__PURE__*/createContext();\nexport const useApp = () => {\n  _s();\n  const context = useContext(AppContext);\n  if (!context) {\n    throw new Error('useApp must be used within AppProvider');\n  }\n  return context;\n};\n_s(useApp, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const AppProvider = ({\n  children\n}) => {\n  _s2();\n  const [currentUser, setCurrentUser] = useState(null); // 'josh' or 'nini'\n  const [currentPage, setCurrentPage] = useState('select'); // 'select', 'questions', 'inbox', 'answers'\n\n  // Questions pool - these will be shown one at a time\n  const [questionsPool] = useState([{\n    id: 1,\n    text: 'what is your earliest childhood memory?'\n  }, {\n    id: 2,\n    text: 'if you could have dinner with anyone dead or alive, who would it be?'\n  }, {\n    id: 3,\n    text: 'what song would you want played at your funeral?'\n  }]);\n\n  // Track current question index for each user\n  const [questionIndex, setQuestionIndex] = useState({\n    josh: 0,\n    nini: 0\n  });\n\n  // Inbox: questions answered by the other user that this user needs to answer\n  // Format: { josh: [{questionId, questionText, otherUserAnswer}], nini: [...] }\n  const [inbox, setInbox] = useState({\n    josh: [],\n    nini: []\n  });\n\n  // Answers: completed question pairs with chat threads\n  // Format: { josh: [{questionId, questionText, joshAnswer, niniAnswer, messages: []}], nini: [...] }\n  const [answers, setAnswers] = useState({\n    josh: [],\n    nini: []\n  });\n  const selectUser = user => {\n    setCurrentUser(user);\n    setCurrentPage('questions');\n  };\n  const switchPage = page => {\n    setCurrentPage(page);\n  };\n  const answerQuestion = (questionId, questionText, answer) => {\n    const otherUser = currentUser === 'josh' ? 'nini' : 'josh';\n\n    // Add to other user's inbox\n    setInbox(prev => ({\n      ...prev,\n      [otherUser]: [...prev[otherUser], {\n        questionId,\n        questionText,\n        otherUserAnswer: answer,\n        answeredBy: currentUser\n      }]\n    }));\n\n    // Move to next question\n    setQuestionIndex(prev => ({\n      ...prev,\n      [currentUser]: prev[currentUser] + 1\n    }));\n  };\n  const skipQuestion = () => {\n    // Move to next question without answering\n    setQuestionIndex(prev => ({\n      ...prev,\n      [currentUser]: prev[currentUser] + 1\n    }));\n  };\n  const answerInboxQuestion = (inboxItem, answer) => {\n    // Remove from inbox\n    setInbox(prev => ({\n      ...prev,\n      [currentUser]: prev[currentUser].filter(item => item.questionId !== inboxItem.questionId)\n    }));\n\n    // Create answer object for both users\n    const answerObj = {\n      questionId: inboxItem.questionId,\n      questionText: inboxItem.questionText,\n      joshAnswer: currentUser === 'josh' ? answer : inboxItem.otherUserAnswer,\n      niniAnswer: currentUser === 'nini' ? answer : inboxItem.otherUserAnswer,\n      messages: [] // Chat messages go here\n    };\n\n    // Add to both users' answers\n    setAnswers(prev => ({\n      josh: [...prev.josh, answerObj],\n      nini: [...prev.nini, answerObj]\n    }));\n  };\n  const sendMessage = (questionId, message) => {\n    // Add message to the chat thread for a specific question\n    setAnswers(prev => ({\n      josh: prev.josh.map(item => item.questionId === questionId ? {\n        ...item,\n        messages: [...item.messages, {\n          user: currentUser,\n          text: message,\n          timestamp: Date.now()\n        }]\n      } : item),\n      nini: prev.nini.map(item => item.questionId === questionId ? {\n        ...item,\n        messages: [...item.messages, {\n          user: currentUser,\n          text: message,\n          timestamp: Date.now()\n        }]\n      } : item)\n    }));\n  };\n  const getCurrentQuestion = () => {\n    const index = questionIndex[currentUser];\n    if (index >= questionsPool.length) {\n      return null; // No more questions\n    }\n    return questionsPool[index];\n  };\n  const value = {\n    currentUser,\n    currentPage,\n    selectUser,\n    switchPage,\n    questionsPool,\n    questionIndex,\n    inbox,\n    answers,\n    answerQuestion,\n    skipQuestion,\n    answerInboxQuestion,\n    sendMessage,\n    getCurrentQuestion\n  };\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 10\n  }, this);\n};\n_s2(AppProvider, \"vp4u9a0fe9YNMlYkEjCWglVMTRI=\");\n_c = AppProvider;\nvar _c;\n$RefreshReg$(_c, \"AppProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","jsxDEV","_jsxDEV","AppContext","useApp","_s","context","Error","AppProvider","children","_s2","currentUser","setCurrentUser","currentPage","setCurrentPage","questionsPool","id","text","questionIndex","setQuestionIndex","josh","nini","inbox","setInbox","answers","setAnswers","selectUser","user","switchPage","page","answerQuestion","questionId","questionText","answer","otherUser","prev","otherUserAnswer","answeredBy","skipQuestion","answerInboxQuestion","inboxItem","filter","item","answerObj","joshAnswer","niniAnswer","messages","sendMessage","message","map","timestamp","Date","now","getCurrentQuestion","index","length","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/joshfeuerstein/jandle/src/AppContext.js"],"sourcesContent":["import React, { createContext, useContext, useState } from 'react';\n\nconst AppContext = createContext();\n\nexport const useApp = () => {\n  const context = useContext(AppContext);\n  if (!context) {\n    throw new Error('useApp must be used within AppProvider');\n  }\n  return context;\n};\n\nexport const AppProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null); // 'josh' or 'nini'\n  const [currentPage, setCurrentPage] = useState('select'); // 'select', 'questions', 'inbox', 'answers'\n\n  // Questions pool - these will be shown one at a time\n  const [questionsPool] = useState([\n    { id: 1, text: 'what is your earliest childhood memory?' },\n    { id: 2, text: 'if you could have dinner with anyone dead or alive, who would it be?' },\n    { id: 3, text: 'what song would you want played at your funeral?' },\n  ]);\n\n  // Track current question index for each user\n  const [questionIndex, setQuestionIndex] = useState({ josh: 0, nini: 0 });\n\n  // Inbox: questions answered by the other user that this user needs to answer\n  // Format: { josh: [{questionId, questionText, otherUserAnswer}], nini: [...] }\n  const [inbox, setInbox] = useState({ josh: [], nini: [] });\n\n  // Answers: completed question pairs with chat threads\n  // Format: { josh: [{questionId, questionText, joshAnswer, niniAnswer, messages: []}], nini: [...] }\n  const [answers, setAnswers] = useState({ josh: [], nini: [] });\n\n  const selectUser = (user) => {\n    setCurrentUser(user);\n    setCurrentPage('questions');\n  };\n\n  const switchPage = (page) => {\n    setCurrentPage(page);\n  };\n\n  const answerQuestion = (questionId, questionText, answer) => {\n    const otherUser = currentUser === 'josh' ? 'nini' : 'josh';\n\n    // Add to other user's inbox\n    setInbox(prev => ({\n      ...prev,\n      [otherUser]: [\n        ...prev[otherUser],\n        {\n          questionId,\n          questionText,\n          otherUserAnswer: answer,\n          answeredBy: currentUser\n        }\n      ]\n    }));\n\n    // Move to next question\n    setQuestionIndex(prev => ({\n      ...prev,\n      [currentUser]: prev[currentUser] + 1\n    }));\n  };\n\n  const skipQuestion = () => {\n    // Move to next question without answering\n    setQuestionIndex(prev => ({\n      ...prev,\n      [currentUser]: prev[currentUser] + 1\n    }));\n  };\n\n  const answerInboxQuestion = (inboxItem, answer) => {\n    // Remove from inbox\n    setInbox(prev => ({\n      ...prev,\n      [currentUser]: prev[currentUser].filter(item => item.questionId !== inboxItem.questionId)\n    }));\n\n    // Create answer object for both users\n    const answerObj = {\n      questionId: inboxItem.questionId,\n      questionText: inboxItem.questionText,\n      joshAnswer: currentUser === 'josh' ? answer : inboxItem.otherUserAnswer,\n      niniAnswer: currentUser === 'nini' ? answer : inboxItem.otherUserAnswer,\n      messages: [] // Chat messages go here\n    };\n\n    // Add to both users' answers\n    setAnswers(prev => ({\n      josh: [...prev.josh, answerObj],\n      nini: [...prev.nini, answerObj]\n    }));\n  };\n\n  const sendMessage = (questionId, message) => {\n    // Add message to the chat thread for a specific question\n    setAnswers(prev => ({\n      josh: prev.josh.map(item =>\n        item.questionId === questionId\n          ? { ...item, messages: [...item.messages, { user: currentUser, text: message, timestamp: Date.now() }] }\n          : item\n      ),\n      nini: prev.nini.map(item =>\n        item.questionId === questionId\n          ? { ...item, messages: [...item.messages, { user: currentUser, text: message, timestamp: Date.now() }] }\n          : item\n      )\n    }));\n  };\n\n  const getCurrentQuestion = () => {\n    const index = questionIndex[currentUser];\n    if (index >= questionsPool.length) {\n      return null; // No more questions\n    }\n    return questionsPool[index];\n  };\n\n  const value = {\n    currentUser,\n    currentPage,\n    selectUser,\n    switchPage,\n    questionsPool,\n    questionIndex,\n    inbox,\n    answers,\n    answerQuestion,\n    skipQuestion,\n    answerInboxQuestion,\n    sendMessage,\n    getCurrentQuestion\n  };\n\n  return <AppContext.Provider value={value}>{children}</AppContext.Provider>;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}